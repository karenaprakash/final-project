(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){e.exports=a(242)},242:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(49),l=a.n(o),c=a(13),i=a(6),s=a(7),u=a(108),m=a.n(u),p=a(109),d=a.n(p),h=a(28),E=a(8),b=a(9),v=a(11),g=a(10),f=a(12),y=a(55),k=a(15),O=a.n(k);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{type:"GET_BOOKS",payload:O.a.get("/api/getBooks?limit=".concat(e,"&skip=").concat(t,"&order=").concat(a)).then(function(e){return n?[].concat(Object(y.a)(n),Object(y.a)(e.data)):e.data})}}function N(e){return{type:"ADD_BOOK",payload:O.a.post("/api/book",e).then(function(e){return e.data})}}function _(e){return{type:"GET_BOOK",payload:O.a.get("/api/getBook?id=".concat(e)).then(function(e){return e.data})}}function j(e){return{type:"UPDATE_BOOK_WITH_IMG",payload:O.a.post("/api/book_with_img_update",e).then(function(e){return e.data})}}function I(e){return{type:"UPDATE_BOOK_WITHOUT_IMG",payload:O.a.post("/api/book_without_img_update",e).then(function(e){return e.data})}}function S(e){return{type:"DELETE_BOOK",payload:O.a.delete("/api/delete_book?id=".concat(e)).then(function(e){return e.data})}}function C(){return{type:"CLEAR_BOOK",payload:{book:null,updateBook:!1,postDeleted:!1}}}var T=function(e){return r.a.createElement(c.b,{to:"/books/".concat(e._id),className:"book_item"},r.a.createElement("div",{className:"book_header"},r.a.createElement("h2",null,e.name)),r.a.createElement("div",{className:"book_items"},r.a.createElement("div",{className:"book_author"},e.author),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Price")," $",e.price),r.a.createElement("div",{className:"book_bubble"},r.a.createElement("strong",null,"Pages")," ",e.pages),r.a.createElement("div",{className:"book_bubble rating"},r.a.createElement("strong",null,"Rating")," ",e.rating)))},P=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).renderItems=function(e){return e.list?e.list.map(function(e){return r.a.createElement(T,Object.assign({},e,{key:e._id}))}):null},a.loadmore=function(){var e=a.props.books.list.length;a.props.dispatch(w(5,e,"desc",a.props.books.list))},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(w(5,0,"desc"))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderItems(this.props.books),r.a.createElement("div",{className:"loadmore",onClick:this.loadmore},"Load More"))}}]),t}(n.Component);var R=Object(i.b)(function(e){return console.log(e),{books:e.books}})(P),B=function(){return r.a.createElement("div",null,r.a.createElement(R,null))},F=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).renderBook=function(e){return e.book?r.a.createElement("div",{className:"br_container"},r.a.createElement("div",{className:"br_header"},r.a.createElement("h2",null,e.book.name),r.a.createElement("h5",null,e.book.author),r.a.createElement("div",{className:"br_reviewer"},r.a.createElement("span",null,"Review By:")," ",e.reviewer.name," ",e.reviewer.lastname),r.a.createElement("div",{className:"br_image"},r.a.createElement("img",{src:"/images/".concat(e.book.bookImage),alt:"book"}))),r.a.createElement("div",{className:"br_review"},e.book.review),r.a.createElement("div",{className:"br_box"},r.a.createElement("div",{className:"left"},r.a.createElement("div",null,r.a.createElement("span",null,"Pages:"),e.book.pages),r.a.createElement("div",null,r.a.createElement("span",null,"Price:")," $",e.book.price)),r.a.createElement("div",{className:"right"},r.a.createElement("span",null,"Rating"),r.a.createElement("div",null,e.book.rating,"/5")))):null},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(function(e){var t=O.a.get("/api/getBook?id=".concat(e));return function(e){t.then(function(t){var a=t.data;O.a.get("/api/getReviewer?id=".concat(a.ownerId)).then(function(t){var n=t.data,r={book:a,reviewer:n};console.log(r),e({type:"GET_BOOK_W_REVIEWER",payload:r})})})}}(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_BOOK_W_REVIEWER",payload:{book:{},reviewer:{}}})}},{key:"render",value:function(){var e=this.props.books;return r.a.createElement("div",null,this.renderBook(e))}}]),t}(n.Component);var L=Object(i.b)(function(e){return{books:e.books}})(F),A=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:"",success:!1},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.submitForm=function(e){e.preventDefault(),a.props.dispatch(function(e){var t=e.email,a=e.password;return{type:"USER_LOGIN",payload:O.a.post("/api/login",{email:t,password:a}).then(function(e){return e.data})}}(a.state))},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.login.isAuth&&this.props.history.push("/user")}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Login Here"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter Your Email",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter Your Password",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("button",{type:"submit"},"Login"),r.a.createElement("div",{className:"error"},e.login?r.a.createElement("div",null,e.login.message):null)))}}]),t}(n.Component);var D=Object(i.b)(function(e){return{user:e.user}})(A),x=a(50),U=a.n(x),W=a(112),K=a.n(W);var G=Object(i.b)(function(e){return{user:e.user}})(function(e){var t=e.user,a=e.onHideNav,n=[{type:"navItem",icon:"home",text:"Home",link:"/",restricted:!1},{type:"navItem",icon:"file-text-o",text:"My Profile",link:"/user",restricted:!0},{type:"navItem",icon:"users",text:"Add Admins",link:"/user/register",restricted:!0},{type:"navItem",icon:"sign-in",text:"Login",link:"/login",restricted:!1,exclude:!0},{type:"navItem",icon:"plus",text:"Add Reviews",link:"/user/add",restricted:!0},{type:"navItem",icon:"star",text:"My Reviews",link:"/user/user-reviews",restricted:!0},{type:"navItem",icon:"sign-out",text:"Logout",link:"/user/logout",restricted:!0}],o=function(e,t){return r.a.createElement("div",{key:t,className:e.type,onClick:a},r.a.createElement(c.b,{to:e.link},r.a.createElement(U.a,{name:e.icon}),e.text))};return r.a.createElement("div",null,t.login?n.map(function(e,a){return t.login.isAuth?e.exclude?null:o(e,a):e.restricted?null:o(e,a)}):null)}),H=function(e){return r.a.createElement(K.a,{showNav:e.showNav,onHideNav:e.onHideNav,navStyle:{background:"#242424",maxWidth:"220px"}},r.a.createElement(G,{onHideNav:e.onHideNav}))},M=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={showNav:!1},a.onHideNav=function(){a.setState({showNav:!1})},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("div",{className:"open_nav"},r.a.createElement(U.a,{name:"bars",onClick:function(){return e.setState({showNav:!0})},style:{color:"#ffffff",padding:"10px",cursor:"pointer"}})),r.a.createElement(H,{showNav:this.state.showNav,onHideNav:function(){return e.onHideNav()}}),r.a.createElement(c.b,{to:"/",className:"logo"},"The Book's Reviews"))}}]),t}(n.Component),V=function(e){return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement("div",null,e.children))},Y=function(e,t){var a=function(a){function n(){var e,t;Object(E.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(v.a)(this,(e=Object(g.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0},t}return Object(f.a)(n,a),Object(b.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"USER_AUTH",payload:O.a.get("/api/auth").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!1}),e.user.login.isAuth?!1===t&&this.props.history.push("/user"):t&&this.props.history.push("/login")}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"loader"}," Loading... "):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),n}(n.Component);return Object(i.b)(function(e){return{user:e.user}})(a)},J=function(e){var t=e.user.login;return r.a.createElement("div",{className:"user_container"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{alt:"avatar",src:"/images/avatar.png"})),r.a.createElement("div",{className:"nfo"},r.a.createElement("div",null,r.a.createElement("span",null,"Name:")," ",t.name),r.a.createElement("div",null,r.a.createElement("span",null,"Lastname:")," ",t.lastname),r.a.createElement("div",null,r.a.createElement("span",null,"Email:")," ",t.email)))},$=a(244),z=a(243),q=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={bookImage:null},a.handleFileChange=function(e){e.target.file&&a.setState({bookImage:e.target.files[0].name})},a.handleSelectChange=function(e){console.log(e.target.value)},a.componentDidUpdate=function(){if(Object.entries(a.props.data).length>1&&0!=Object.entries(a.props.data.newbook).length){var e=a.props.data.newbook.post;e?(alert("Record Saved Succesfully."),a.props.dispatch({type:"CLEAR_NEWBOOK",payload:{}})):e||alert("Error while storing record.")}},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"renderInputField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("input",Object.assign({type:"text"},e.input,{onChange:e.input.onChange})),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderFileInputField",value:function(e){console.log(e);var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("input",{type:"file",onChange:e.input.onChange}),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderTextareaField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("textarea",e.input),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderNumberInputField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("input",Object.assign({type:"number"},e.input,{onChange:e.input.onChange})),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderSelectField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("select",Object.assign({},e.input,{onChange:e.input.onChange}),e.children),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"onSubmit",value:function(e){console.log(e);var t=new FormData;t.append("name",e.name),t.append("author",e.author),t.append("review",e.review),t.append("pages",e.pages),t.append("price",e.price),t.append("rating",e.rating),t.append("ownerId",this.props.user.login.id),"string"!==typeof e.bookImage&&null!==e.bookImage&&t.append("bookImage",e.bookImage[0]),this.props.dispatch(N(t))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_NEWBOOK",payload:{}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Form"},r.a.createElement("div",{className:"top"},r.a.createElement("h3",null,"Add a Review"),r.a.createElement(c.b,{to:"/"},"Back")),r.a.createElement("form",{onSubmit:this.props.handleSubmit(function(t){return e.onSubmit(t)}),method:"POST",encType:"multipart/form-data"},r.a.createElement($.a,{myLabel:"Enter Name",name:"name",component:this.renderInputField}),r.a.createElement($.a,{myLabel:"Enter Author",name:"author",component:this.renderInputField}),r.a.createElement($.a,{myLabel:"Enter Review",name:"review",component:this.renderTextareaField}),r.a.createElement($.a,{myLabel:"Enter Pages",name:"pages",component:this.renderNumberInputField}),r.a.createElement($.a,{myLabel:"Enter Price",name:"price",component:this.renderNumberInputField}),r.a.createElement($.a,{myLabel:"Select Rating",name:"rating",component:this.renderSelectField},r.a.createElement("option",null),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5")),r.a.createElement($.a,{myLabel:"Select Book Image",name:"bookImage",type:"file",onChange:this.handleFileChange,component:this.renderFileInputField}),r.a.createElement("button",{type:"submit"},"Submit")))}}]),t}(n.Component);var Q=Object(z.a)({validate:function(e){var t={};return e.name||(t.name="The name is empty"),e.author||(t.author="The author is empty"),e.review||(t.review="The review is empty"),e.pages||(t.pages="The pages is empty"),e.price||(t.price="The price is empty"),e.rating||(t.rating="The rating is empty"),e.bookImage&&0!=e.bookImage.length||(t.bookImage="The bookImage is empty"),t},form:"AddBook"})(Object(i.b)(function(e){return console.log(e),{data:e.books}},{addBook:N})(q)),X=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{bookImage:"",isBookSelected:!1},isFormChanged:null},a.deletePost=function(){a.props.dispatch(S(a.props.match.params.id)),window.scrollTo(0,0)},a.redirectUser=function(){setTimeout(function(){a.props.history.push("/user/user-reviews")},1e3)},a.handleFileChange=function(e){1===e.target.files.length&&a.setState({formData:{bookImage:e.target.files[0].name,isBookSelected:!0}})},a.handleSelectChange=function(e){console.log(e.target.value)},a.submitForm=function(e){if(null!=a.props.initialValues&&null!=e){if(JSON.stringify(a.props.initialValues)===JSON.stringify(e))return a.setState({isFormChanged:!1}),void window.scrollTo(0,0);a.setState({isFormChanged:!0}),console.log("t")}var t=new FormData;t.append("name",e.name),t.append("_id",a.props.match.params.id),t.append("author",e.author),t.append("review",e.review),t.append("pages",e.pages),t.append("price",e.price),t.append("rating",e.rating),t.append("ownerId",a.props.user.login.id),a.state.formData.isBookSelected?("string"!==typeof e.bookImage&&null!==e.bookImage&&t.append("bookImage",e.bookImage[0]),a.props.dispatch(j(t))):(console.log(e),a.props.dispatch(I(e)))},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){console.log(this.state.isFormChanged),this.props.dispatch(_(this.props.match.params.id))}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"CLEAR_BOOK",payload:{book:null,updateBook:!1,postDeleted:!1}})}},{key:"renderInputField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("input",Object.assign({type:"text"},e.input,{onChange:e.input.onChange})),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderFileInputField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("input",{type:"file",onChange:e.input.onChange}),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderTextareaField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("textarea",e.input),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderNumberInputField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("input",Object.assign({type:"number"},e.input,{onChange:e.input.onChange})),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"renderSelectField",value:function(e){var t="form-input ".concat(e.meta.touched&&e.meta.error?"has-error":"");return r.a.createElement("div",{className:t},r.a.createElement("label",null,e.myLabel),r.a.createElement("select",Object.assign({},e.input,{onChange:e.input.onChange}),e.children),r.a.createElement("div",{className:"error"},e.meta.touched?e.meta.error:""))}},{key:"render",value:function(){var e=this,t=this.props.book,a=Object.entries(t).length;return console.log(this.state.isFormChanged),r.a.createElement("div",{className:"Form"},r.a.createElement("div",{className:"top"},r.a.createElement("h3",null,"Edit Review"),r.a.createElement(c.b,{to:"/"},"Back")),t.updateBook?r.a.createElement("div",{className:"edit_confirm"},"post updated,",r.a.createElement(c.b,{to:"/books/".concat(t.book._id)},"click here to see post")):null,t.postDeleted?r.a.createElement("div",{className:"red_tag"},"Post Deleted",this.redirectUser()):null,this.state.isFormChanged||null===this.state.isFormChanged?null:r.a.createElement("div",{className:"edit_confirm"},"Please Make Some Changes."),r.a.createElement("form",{onSubmit:this.props.handleSubmit(function(t){return e.submitForm(t)}),method:"POST",encType:"multipart/form-data"},r.a.createElement($.a,{myLabel:"Enter Name",name:"name",component:this.renderInputField}),r.a.createElement($.a,{myLabel:"Enter Author",name:"author",component:this.renderInputField}),r.a.createElement($.a,{myLabel:"Enter Review",name:"review",component:this.renderTextareaField}),r.a.createElement($.a,{myLabel:"Enter Pages",name:"pages",component:this.renderNumberInputField}),r.a.createElement($.a,{myLabel:"Enter Price",name:"price",component:this.renderNumberInputField}),r.a.createElement($.a,{myLabel:"Select Rating",name:"rating",component:this.renderSelectField},r.a.createElement("option",null),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5")),r.a.createElement($.a,{myLabel:"Select Book Image",name:"bookImage",value:this.state.formData.bookImage,type:"file",onChange:this.handleFileChange,component:this.renderFileInputField}),0==a||null==t.book?null:r.a.createElement("div",{className:"br_image"},r.a.createElement("img",{src:"/images/".concat(t.book.bookImage),alt:"product"})),r.a.createElement("div",{className:"delete_post"},r.a.createElement("button",{type:"submit"},"Edit  Review")),r.a.createElement("div",{className:"delete_post"},r.a.createElement("div",{className:"button",onClick:this.deletePost},"Delete Review"))))}}]),t}(n.PureComponent);var Z=Object(i.b)(function(e){var t=e.books,a={};if(0!=Object.entries(t).length&&"object"===typeof t.book&&null!=t.book){var n=e.books.book;a={_id:n._id,name:n.name,author:n.author,review:n.review,pages:n.pages,rating:n.rating,price:n.price,bookImage:n.bookImage}}return{book:e.books,initialValues:a}},{getBook:_,updateBook_with_image:j,updateBook_without_image:I,clearBook:C,deleteBook:S})(Object(z.a)({validate:function(e){var t={};return e.name||(t.name="The name is empty"),e.author||(t.author="The author is empty"),e.review||(t.review="The review is empty"),e.pages||(t.pages="The pages is empty"),e.price||(t.price="The price is empty"),e.rating||(t.rating="The rating is empty"),e.bookImage&&0!=e.bookImage.length&&null!=e.bookImage||(t.bookImage="The bookImage is empty"),t},form:"EditReview",enableReinitialize:!0})(X)),ee=a(114),te=a.n(ee),ae=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).showUserPosts=function(e){return e.userPosts?e.userPosts.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement(c.b,{to:"/user/edit-post/".concat(e._id)},e.name)),r.a.createElement("td",null,e.author),r.a.createElement("td",null,te()(e.createAt).format("MM/DD/YY")))}):null},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){var e;this.props.dispatch((e=this.props.user.login.id,{type:"GET_USER_POSTS",payload:O.a.get("/api/user_posts?id=".concat(e)).then(function(e){return e.data})}))}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"user_posts"},r.a.createElement("h4",null,"Your Reviews:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Date"))),r.a.createElement("tbody",null,this.showUserPosts(e))))}}]),t}(n.Component);var ne=Object(i.b)(function(e){return{user:e.user}})(ae),re=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",lastname:"",email:"",password:"",error:""},a.handleInputName=function(e){a.setState({name:e.target.value})},a.handleInputLastName=function(e){a.setState({lastname:e.target.value})},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.submitForm=function(e){e.preventDefault(),a.setState({error:""}),a.props.dispatch(function(e,t){var a=O.a.post("/api/register",e);return function(e){a.then(function(a){var n=a.data,r=n.success?[].concat(Object(y.a)(t),[n.user]):t,o={success:n.success,users:r};e({type:"USER_REGISTER",payload:o})})}}({email:a.state.email,password:a.state.password,name:a.state.name,lastname:a.state.lastname},a.props.user.users))},a.showUsers=function(e){return e.users?e.users.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.lastname),r.a.createElement("td",null,e.email))}):null},a}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"GET_USER",payload:O.a.get("/api/users").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){!1===e.user.register?this.setState({error:"Error,try again."}):this.setState({name:"",lastname:"",email:"",password:""})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Add User"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter Name",value:this.state.name,onChange:this.handleInputName})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Enter Lastname",value:this.state.lastname,onChange:this.handleInputLastName})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("button",{type:"submit"},"Add User"),r.a.createElement("div",{className:"error"},this.state.error)),r.a.createElement("div",{className:"current_users"},r.a.createElement("h4",null,"Current Users:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Lastname"),r.a.createElement("th",null,"Email"))),r.a.createElement("tbody",null,this.showUsers(e)))))}}]),t}(n.PureComponent);var oe=Object(i.b)(function(e){return{user:e.user}})(re),le=function(e){O.a.get("/api/logout").then(function(t){setTimeout(function(){e.history.push("/")},2e3)});return r.a.createElement("div",{className:"logout_container"},r.a.createElement("h1",null,"Sorry to see you go :("))},ce=function(){return r.a.createElement(V,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/login",exact:!0,component:Y(D,!1)}),r.a.createElement(h.a,{path:"/user/logout",exact:!0,component:Y(le,!0)}),r.a.createElement(h.a,{path:"/user/add",exact:!0,component:Y(Q,!0)}),r.a.createElement(h.a,{path:"/user/register",exact:!0,component:Y(oe,!0)}),r.a.createElement(h.a,{path:"/user/edit-post/:id",exact:!0,component:Y(Z,!0)}),r.a.createElement(h.a,{path:"/user",exact:!0,component:Y(J,!0)}),r.a.createElement(h.a,{path:"/user/user-reviews",exact:!0,component:Y(ne,!0)}),r.a.createElement(h.a,{path:"/",exact:!0,component:Y(B,null)}),r.a.createElement(h.a,{path:"/books/:id",exact:!0,component:Y(L,null)})))},ie=a(53);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach(function(t){Object(ie.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach(function(t){Object(ie.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var de=a(245),he=Object(s.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BOOKS":return ue({},e,{list:t.payload});case"GET_BOOK":return ue({},e,{book:t.payload});case"GET_BOOK_W_REVIEWER":case"CLEAR_BOOK_W_REVIEWER":return ue({},e,{book:t.payload.book,reviewer:t.payload.reviewer});case"ADD_BOOK":case"CLEAR_NEWBOOK":return ue({},e,{newbook:t.payload});case"UPDATE_BOOK_WITH_IMG":case"UPDATE_BOOK_WITHOUT_IMG":return ue({},e,{updateBook:t.payload.success,book:t.payload.doc});case"DELETE_BOOK":return ue({},e,{postDeleted:t.payload});case"CLEAR_BOOK":return ue({},e,{updateBook:t.payload.updateBook,book:t.payload.book,postDeleted:t.payload.postDeleted});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_AUTH":return pe({},e,{login:t.payload});case"GET_USER_POSTS":return pe({},e,{userPosts:t.payload});case"GET_USER":return pe({},e,{users:t.payload});case"USER_REGISTER":return pe({},e,{register:t.payload.success,users:t.payload.users});default:return e}},form:de.a}),Ee=Object(s.a)(m.a,d.a)(s.d);l.a.render(r.a.createElement(i.a,{store:Ee(he)},r.a.createElement(c.a,null,r.a.createElement(ce,null))),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.eaa87165.chunk.js.map